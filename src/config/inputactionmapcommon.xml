<?xml version="1.0" encoding="ISO-8859-1"?>

<Root>

	<Import file="Config\InputActionMapConsole.xml"/>
    <Import file="%APPDATA%InputUserActionMap.xml" optional=""/>

	<!-- ******************************************************************************** -->
	<Config>
		<ClickGenerator ClickTime="0.3" DoubleClickTime="0.6" HoldTime="1.0"/>
		<Driver deviceID="pad" DeadZone="0.35"/>
		<Driver deviceID="mouse" Sensitivity="0.001" WheelSensitivity="0.02"/>
	</Config>

	<!-- ******************************************************************************** -->
    <ActionMap name="common_showconsole">
        <Binding input="kb:~" action="press" signal="toggle_console"/>
        <Binding input="kb:`" action="press" signal="toggle_console"/>
        <Binding input="kb:J" action="press" signal="create_issue"/>
    </ActionMap>

    <!-- ******************************************************************************** -->
	<ActionMap name="common_system" resendOnChange="0" >
        <Import actionmap="common_system_remap" optional=""/>

        <!-- Do not use F10, it is a window command. -->
		<!-- Do not use F12, it is a window command. -->

		<!--Keyboard-->
		<Binding input="kb:f1" action="press" signal="active_camerafirst"/>
		<Binding input="kb:f2" action="press" signal="active_camerathird"/>
		<Binding input="kb:f3" action="press" signal="active_cameraghost"/>
		<Binding input="kb:f4" action="press" signal="active_camerafree"/>
		<Binding input="kb:f6" action="release" signal="camera_toggle_controls"/>
		<Binding input="kb:p" action="press" signal="cheatpause_toggle"/>
		<Binding input="kb:o" action="press" signal="cheatpause_step"/>
		<Binding input="kb:;" action="press" signal="debug_logstats"/>

		<Binding input="kb:numpad0" action="press" signal="enable_profiler_dump"/>
		<Binding input="kb:numpad0" action="release" signal="disable_profiler_dump"/>
		<Binding input="kb:numpad1" action="press" signal="enable_renderer_dump"/>
		<Binding input="kb:numpad2" action="press" signal="enable_memtracer_dump"/>
		<Binding input="kb:numpad3" action="press" signal="enable_pix_dump"/>
		<Binding input="kb:numpad3" action="release" signal="disable_pix_dump"/>
		<Binding input="kb:numpad4" action="release" signal="profile_data_capture_single_frame"/>
		<Binding input="kb:numpad6" action="release" signal="profiler_data_capture_toggle"/>
		<Binding input="kb:numpad7" action="press" signal="enable_physics_dump"/>
		<Binding input="kb:numpad8" action="press" signal="toggle_recording"/>
        <Binding input="kb:J" action="press" signal="create_issue"/>
		<Binding input="kb:numpadreturn" action="press" signal="recompile_shaders"/>
        <Binding input="kb:sysrq" action="press" signal="snapshot"/>
	</ActionMap>

	<!-- ******************************************************************************** -->
	<ActionMap name="common_move">
    <Import actionmap="common_move_remap" optional=""/>
    
    <!--Keyboard-->
		<CompoundInput name="move" device="kb">
			<Input input="w" axis="0"/>
			<Input input="s" axis="0" invert="1"/>
			<Input input="d" axis="1"/>
			<Input input="a" axis="1" invert="1"/>
		</CompoundInput>


		<Binding input="kb:move" action="press" signal="move"/>
		<Binding input="kb:move" action="release" signal="move"/>

		<Binding input="kb:lshift" action="press" signal="lock_sprint"/>
        <Binding input="kb:lshift" action="hold" signal="lock_sprint"/>
		<Binding input="kb:lshift" action="release" signal="unlock_sprint"/>

		<!--Gamepad-->
		<PadFilter name="left_thumb" device="pad">
			<Binding input="left_thumb_leftright" axis="1" sensitivity="1" curve="Player.MovementCurves.Movement_leftright"/>
			<Binding input="left_thumb_updown" axis="0" sensitivity="1" curve="Player.MovementCurves.Movement_updown"/>
		</PadFilter>
		<Binding input="pad:left_thumb" action="update" signal="move"/>
		<Binding input="pad:left_thumb_push" action="press" signal="sprint"/>
		<Binding input="pad:left_thumb_push" action="hold" signal="sprint"/>
		<Binding input="pad:left_thumb_push" action="release" signal="walk"/>


	</ActionMap>

	<!-- ******************************************************************************** -->
	<ActionMap name="common_look">
		<!--Mouse-->
		<MouseFilter input="mouse:move" curve="Weapons.AimCurves.Mouse_Curve" sensitivity="0.8" maxOutput="10" />
		<Binding input="mouse:move" action="update" signal="look"/>
	</ActionMap>


	<!-- ******************************************************************************** -->
	<ActionMap name="common_weapons">
    <Import actionmap="common_weapons_remap" optional=""/>
    <Import actionmap="common_shoot_remap" optional=""/>
    <Import actionmap="common_iron_remap" optional=""/>	
    <Import actionmap="common_reload_remap" optional=""/>	
    	
		<!--Keyboard-->
		<Binding input="kb:r" action="press" signal="reload"/>
		<Binding input="kb:-" action="press" signal="select_previous_weapon"/>
		<Binding input="kb:=" action="press" signal="select_next_weapon"/>
		<Binding input="kb:1" action="press" signal="select_hand_to_hand_weapon"/>
		<Binding input="kb:2" action="press" signal="select_secondary_weapon"/>
		<Binding input="kb:3" action="press" signal="select_primary_weapon"/>
		<Binding input="kb:4" action="press" signal="select_special_weapon"/>

		<!--Mouse-->
		<Binding input="mouse:rb" action="press" signal="startironsight"/>
		<Binding input="mouse:rb" action="release" signal="stopironsight"/>
		<Binding input="mouse:lb" action="press" signal="startshooting"/>
		<Binding input="mouse:lb" action="release" signal="stopshooting"/>
        <Binding input="mouse:wheel" action="update" signal="cycleweapon"/>

		<!--Gamepad-->
		<Binding input="pad:x" action="press" signal="reload"/>
		<Binding input="pad:left_trigger" action="press" signal="startironsight"/>
		<Binding input="pad:left_trigger" action="release" signal="stopironsight"/>
		<Binding input="pad:right_trigger" action="press" signal="startshooting"/>
		<Binding input="pad:right_trigger" action="release" signal="stopshooting"/>
		<Binding input="pad:left" action="press" signal="select_primary_weapon"/>
		<Binding input="pad:right" action="press" signal="select_secondary_weapon"/>
		<Binding input="pad:up" action="press" signal="select_hand_to_hand_weapon"/>
		<Binding input="pad:down" action="press" signal="select_special_weapon"/>

	</ActionMap>

	<!-- ******************************************************************************** -->
	<!--Free camera action map-->
	<ActionMap name="common_free_camera" resendOnChange="0">

		<!--Camera Look-->
		<!--Mouse-->
		<MouseFilter input="mouse:move" curve="Weapons.AimCurves.Mouse_Curve" sensitivity="0.8" maxOutput="10" />
		<Binding input="mouse:move" action="update" signal="camera_look"/>

		<!--Gamepad-->
		<PadFilter name="right_thumb" device="pad" padAccelerationBoostAmplitude="0">
			<Binding input="right_thumb_leftright" axis="0" sensitivity="0.9" curve="Weapons.AimCurves.Pad_LookLeftRight"/>
			<Binding input="right_thumb_updown" axis="1" sensitivity="0.4" curve="Weapons.AimCurves.Pad_LookUpDown"/>
		</PadFilter>
		<Binding input="pad:right_thumb" action="update" signal="camera_look"/>
		<!--Camera Look-->


		<!--Camera Move-->
		<!--Keyboard-->
		<CompoundInput name="move" device="kb">
			<Input input="w" axis="0"/>
			<Input input="s" axis="0" invert="1"/>
			<Input input="d" axis="1"/>
			<Input input="a" axis="1" invert="1"/>
		</CompoundInput>
		<Binding input="kb:move" action="press" signal="camera_move"/>
		<Binding input="kb:move" action="release" signal="camera_move"/>

		<CompoundInput name="camera_z" device="mouse">
			<Input input="lb" axis="0"/>
			<Input input="rb" axis="0" invert="1"/>
		</CompoundInput>
		<Binding input="mouse:camera_z" action="press" signal="camera_move_z"/>
		<Binding input="mouse:camera_z" action="release" signal="camera_move_z"/>
		<Binding input="mouse:wheel" action="update" signal="camera_acceleration"/>
    	<Binding input="kb:e" action="release" signal="camera_toggle_first_person"/>
    	<Binding input="kb:m" action="release" signal="camera_toggle_aimat"/>



		<!--Gamepad-->
		<CompoundInput name="left_thumb" device="pad">
			<Binding input="left_thumb_leftright" axis="1"/>
			<Binding input="left_thumb_updown" axis="0"/>
		</CompoundInput>
		<Binding input="pad:left_thumb" action="update" signal="camera_move"/>

		<CompoundInput name="camera_acceleration" device="pad">
			<Input input="right_trigger" axis="0"/>
			<Input input="left_trigger" axis="0" invert="1"/>
		</CompoundInput>
		<CompoundInput name="camera_z" device="pad">
			<Input input="right_shoulder" axis="0"/>
			<Input input="left_shoulder" axis="0" invert="1"/>
		</CompoundInput>

		<Binding input="pad:camera_acceleration" action="update" signal="camera_acceleration"/>
		<Binding input="pad:camera_z" action="update" signal="camera_move_z"/>
		<Binding input="pad:y" action="release" signal="camera_toggle_first_person"/>
		<Binding input="pad:x" action="release" signal="camera_toggle_aimat"/>
		<Binding input="pad:a" action="release" signal="camera_toggle_controls"/>
	</ActionMap>
	
    <!-- ******************************************************************************** -->
	<!-- Menu controls action map -->
	<ActionMap name="common_menus" resendOnChange="0">
	</ActionMap>
	
	<!-- ******************************************************************************** -->
	<!-- Gameplay controls action map -->
	<ActionMap name="common_gameplay">
    <Import actionmap="common_gameplay_remap" optional=""/>
    <import actionmap="common_use_remap" optional=""/>
    <import actionmap="common_heal_remap" optional=""/>
    <import actionmap="common_jump_remap" optional=""/>
    <import actionmap="common_crouch_remap" optional=""/>
    <import actionmap="common_grenade_remap" optional=""/>
    		
		<!--Keyboard-->
		<Binding input="kb:space" action="press" signal="jump"/>
		<Binding input="kb:c" action="press" signal="crouch"/>
		<Binding input="kb:e" action="press" signal="use"/>
    <Binding input="kb:h" action="press" signal="heal"/>
		<Binding input="kb:q" action="press" signal="throw_grenade"/>
		<Binding input="kb:f" action="press" signal="select_next_throw_gadget"/>
		
		<!--Demo keys-->		
		<Binding input="kb:^" action="press" signal="start_rain_demo" />
		<Binding input="kb:&amp;" action="press" signal="stop_rain_demo" />
		<Binding input="kb:*" action="press" signal="start_time_demo" />
		<Binding input="kb:(" action="press" signal="start_storm_demo" />
		<Binding input="kb:)" action="press" signal="stop_storm_demo" />

		
		<!--Gamepad-->
		<Binding input="pad:a" action="press" signal="jump"/>
		<Binding input="pad:y" action="press" signal="use"/>
		<Binding input="pad:b" action="press" signal="crouch"/>
		<Binding input="pad:left_shoulder" action="press" signal="heal"/>
		<Binding input="pad:right_shoulder" action="press" signal="throw_grenade"/>
		<Binding input="pad:right_thumb_push" action="press" signal="select_next_throw_gadget"/>
    </ActionMap>


	<!-- ******************************************************************************** -->
	<!-- Default game action map-->
	<ActionMap name="common_default">
	</ActionMap>
	
	<ActionMap name="common_basic" resendOnChange="0">
	</ActionMap>
	

	<!-- ******************************************************************************** -->
	<!-- Editor in-game mode action map; disables menus -->
	<ActionMap name="common_editor">
	</ActionMap>
	

	<!-- ******************************************************************************** -->
	<!--Multiplayer action map-->
	<ActionMap name="common_multiplayer">
    <Import actionmap="common_multiplayer_remap" optional=""/>
    <import actionmap="common_use_remap" optional=""/>
    <import actionmap="common_heal_remap" optional=""/>
    <import actionmap="common_jump_remap" optional=""/>
    <import actionmap="common_crouch_remap" optional=""/>
    <import actionmap="common_grenade_remap" optional=""/>
    <Import actionmap="common_loadout_remap" optional=""/>
    
		<!--Keyboard-->
		<Binding input="kb:space" action="press" signal="jump"/>
		<Binding input="kb:c" action="press" signal="crouch"/>
		<Binding input="kb:e" action="press" signal="use"/>
		<Binding input="kb:q" action="press" signal="throw_grenade"/>
        <Binding input="kb:l" action="release" signal="open_loadout"/>
        <Binding input="kb:h" action="press" signal="heal"/>
        
        <!-- Do not use F10, it is a window command. -->
		<!-- Do not use F12, it is a window command. -->

        <!--Gamepad-->
		<Binding input="pad:a" action="press" signal="jump"/>
		<Binding input="pad:y" action="press" signal="use"/>
		<Binding input="pad:b" action="press" signal="crouch"/>
		<Binding input="pad:left_shoulder" action="press" signal="heal"/>
        <Binding input="pad:right_shoulder" action="press" signal="throw_grenade"/>
        
	</ActionMap>
    
	<!-- ******************************************************************************** -->
	<!--In-Game Cinematic action map-->
	<ActionMap name="common_cinematic">
	</ActionMap>
	
  <!-- ******************************************************************************** -->
	<!--Major Malaria Attack action map-->
	<ActionMap name="common_malaria_major_attack" resendOnChange="0">
		<import actionmap="common_heal_remap" optional=""/>
		<Binding input="kb:h" action="press" signal="heal"/>
		<Binding input="pad:left_shoulder" action="press" signal="heal"/>
	</ActionMap>
	
  <!-- ******************************************************************************** -->
	<!--In-Game BuddyDown action map-->
	<ActionMap name="common_buddydown" resendOnChange="0">

	  <!--Keyboard-->
		<Binding input="kb:e" action="press" signal="BuddyDown_Exit"/>  <!--Send the heal on the buddy-->
		<Binding input="kb:2" action="press" signal="BuddyDown_TrySwitchCradleExecute"/>
		<Binding input="kb:-" action="press" signal="BuddyDown_TrySwitchCradleExecute"/>
		<Binding input="kb:=" action="press" signal="BuddyDown_TrySwitchCradleExecute"/>

		<!--Gamepad-->
		<Binding input="pad:y" action="press" signal="BuddyDown_Exit"/>
		<Binding input="pad:left" action="press" signal="BuddyDown_TrySwitchCradleExecute"/>
		<Binding input="pad:right" action="press" signal="BuddyDown_TrySwitchCradleExecute"/>
	</ActionMap>
	
	<ActionMap name="common_buddydown_execute" resendOnChange="0">
		<!--Keyboard-->		
		<Binding input="kb:2" action="press" signal="BuddyDown_TrySwitchCradleExecute"/>
		<Binding input="kb:-" action="press" signal="BuddyDown_TrySwitchCradleExecute"/>
		<Binding input="kb:=" action="press" signal="BuddyDown_TrySwitchCradleExecute"/>

		<!--Mouse-->
		<Binding input="mouse:lb" action="press" signal="BuddyDown_ExecuteBuddy"/>
		
		<!--Gamepad-->
		<Binding input="pad:right_trigger" action="press" signal="BuddyDown_ExecuteBuddy"/>
		<Binding input="pad:left" action="press" signal="BuddyDown_TrySwitchCradleExecute"/>
		<Binding input="pad:right" action="press" signal="BuddyDown_TrySwitchCradleExecute"/>
	</ActionMap>
	
	<ActionMap name="common_buddydown_cradle" resendOnChange="0">
		<!--Mouse-->
		<Binding input="mouse:lb" action="press" signal="BuddyDown_CradleHeal"/>
		<Binding input="kb:h" action="press" signal="BuddyDown_CradleHeal"/>
		
		<!--Gamepad-->
		<Binding input="pad:right_trigger" action="press" signal="BuddyDown_CradleHeal"/>
	</ActionMap>
	
	
	<!-- ******************************************************************************** -->
	<!--In-Game Lying Down action map-->
	<ActionMap name="common_lyingdown" resendOnChange="0">
	</ActionMap>
	
	
	<!-- ******************************************************************************** -->
	<ActionMap name="common_in_vehicle">
    <Import actionmap="common_in_vehicle_remap" optional=""/>
    <import actionmap="common_heal_remap" optional=""/>
    <Import actionmap="common_changeseat_remap" optional=""/>
    <Import actionmap="common_exitvehicle_remap" optional=""/>
    
        <Binding input="kb:e" action="press" signal="exitvehicle"/>
        <Binding input="kb:c" action="press" signal="change_seat"/>
		<Binding input="kb:r" action="press" signal="toggle_awd"/>
        <Binding input="kb:h" action="press" signal="heal"/>
        <Binding input="pad:y" action="press" signal="exitvehicle"/>
		<Binding input="pad:a" action="press" signal="change_seat"/>
		<Binding input="pad:left_shoulder" action="press" signal="toggle_awd"/>

 		<!--Mouse look-->
		<MouseFilter input="mouse:move" curve="Weapons.AimCurves.Mouse_Curve" sensitivity="0.8" maxOutput="10" />
		<Binding input="mouse:move" action="update" signal="look"/>
		<CompoundInput name="pov_front_reset" device="mouse">
			<Input input="rb" axis="2"/>
		</CompoundInput>
		<Binding input="mouse:pov_front_reset" action="press" signal="look_pov"/>

		<!--Both mouse buttons generate a look-back-->
		<Binding signal="look_back">
			<Input input="mouse:rb" action="press" useAsAxisInput="1"/>
			<Input input="mouse:lb" action="press"/>
		</Binding>

		<CompoundInput name="look_pov" device="mouse">
			<Binding input="rb" axis="0"/>
			<Binding input="lb" axis="0" invert="1"/>
			<Binding input="" axis="1"/>
		</CompoundInput>
		<Binding input="mouse:look_pov" action="press" signal="look_pov"/>
		<Binding input="mouse:look_pov" action="release" signal="look_pov"/>

 		<!--Look on pad-->
		<PadFilter name="right_thumb" device="pad" padAccelerationBoostAmplitude="0">
			<Binding input="right_thumb_leftright" axis="0" sensitivity="0.9" curve="Weapons.AimCurves.Pad_LookLeftRight"/>
			<Binding input="right_thumb_updown" axis="1" sensitivity="0.5" curve="Weapons.AimCurves.Pad_LookUpDown"/>
		</PadFilter>

		<CompoundInput name="look_pov" device="pad">
			<Binding input="right_thumb_push" axis="1" invert="1"/>
			<Binding input="" axis="0"/>
        </CompoundInput>
		<Binding input="pad:look_pov" action="press" signal="look_pov"/>
		<Binding input="pad:look_pov" action="release" signal="look_pov"/>

		<Binding input="pad:right_thumb" action="update" signal="look"/>
		<Binding input="pad:left_shoulder" action="press" signal="heal"/>
	</ActionMap>
	
	<!-- ******************************************************************************** -->
	<!--Driving action map-->
	<ActionMap name="common_driving">
    <Import actionmap="common_driving_remap" optional=""/>
    <Import actionmap="common_gadget_remap" optional=""/>	
		<!--Sixaxis-->
		<!--<Binding input="pad:sensor_x" action="update" signal="steering" />-->
		<Copy input="pad:sensor_x" toInput="pad:sixaxis_steering" />
		<CurveFilter input="pad:sixaxis_steering" sensitivity="5" maxOutput="1" />
		<Binding input="pad:sixaxis_steering" action="update" signal="sixaxis_steering" />
		
 		<!--Keyboard-->
		<CompoundInput name="accelerator" device="kb">
			<Input input="w" axis="0"/>
		</CompoundInput>
		<CompoundInput name="reverse" device="kb">
			<Input input="s" axis="0" invert="1"/>
		</CompoundInput>
		<CompoundInput name="steering" device="kb">
			<Input input="d" axis="0"/>
			<Input input="a" axis="0" invert="1"/>
		</CompoundInput>

		<Binding input="kb:accelerator" action="press" signal="accelerator"/>
		<Binding input="kb:accelerator" action="release" signal="accelerator"/>
		<Binding input="kb:reverse" action="press" signal="reverse"/>
		<Binding input="kb:reverse" action="release" signal="reverse"/>
		<Binding input="kb:steering" action="press" signal="steering"/>
		<Binding input="kb:steering" action="release" signal="steering"/>
		<Binding input="kb:space" action="press" signal="hand_brake"/>
		<Binding input="kb:space" action="release" signal="hand_brake"/>
		<Binding input="kb:5" action="press" signal="toggle_gadget"/>
		<Binding input="kb:g" action="press" signal="toggle_headlights"/>

		<!--Gamepad-->
		<CompoundInput name="accelerator" device="pad">
			<Input input="right_trigger" axis="0"/>
		</CompoundInput>
		<CompoundInput name="reverse" device="pad">
			<Input input="left_trigger" axis="0" invert="1"/>
		</CompoundInput>

		<Binding input="pad:accelerator" action="update" signal="accelerator"/>
		<Binding input="pad:reverse" action="update" signal="reverse"/>
		<Binding input="pad:left_trigger" action="dbl_click" signal="auto_reverse"/>
		<Binding input="pad:left_thumb_leftright" action="update" signal="steering"/>

		<Binding input="pad:b" action="update" signal="hand_brake"/>
		<Binding input="pad:right_shoulder" action="press" signal="toggle_headlights"/>
		
	</ActionMap>
	
	<ActionMap name="common_map_driving">
		<Import actionmap="common_reload_remap" optional=""/>
		
		<!--Mouse-->
		<Binding input="kb:r" action="press"   signal="flipside"/>

		<!--Gamepad-->
		<Binding input="pad:x" action="press"   signal="flipside"/>
	</ActionMap>
	
	<ActionMap name="common_passenger">
		<import actionmap="common_heal_remap" optional=""/>
		<Import actionmap="common_shoot_remap" optional=""/>
		<Import actionmap="common_iron_remap" optional=""/>
		<Import actionmap="common_reload_remap" optional=""/>
		<Import actionmap="common_changeseat_remap" optional=""/>
		<Import actionmap="common_exitvehicle_remap" optional=""/>
		
		<Binding input="kb:e" action="press" signal="exitvehicle"/>
        <Binding input="kb:c" action="press" signal="change_seat"/>
		<Binding input="kb:h" action="press" signal="heal"/>
        <Binding input="kb:H" action="press" signal="heal"/>

        <Binding input="pad:y" action="press" signal="exitvehicle"/>
		<Binding input="pad:a" action="press" signal="change_seat"/>
        <Binding input="pad:left_shoulder" action="press" signal="heal"/>
		
		<!-- Shooting -->
		<Binding input="mouse:lb" action="press" signal="startshooting"/>
		<Binding input="mouse:lb" action="release" signal="stopshooting"/>
		<Binding input="pad:right_trigger" action="press" signal="startshooting"/>
		<Binding input="pad:right_trigger" action="release" signal="stopshooting"/>
	    <Binding input="kb:r" action="press" signal="reload"/>
		<Binding input="pad:x" action="press" signal="reload"/>
		
		<!-- Ironsight -->
	    <Binding input="mouse:rb" action="press" signal="startironsight"/>
		<Binding input="mouse:rb" action="release" signal="stopironsight"/>
		<Binding input="pad:left_trigger" action="press" signal="startironsight"/>
		<Binding input="pad:left_trigger" action="release" signal="stopironsight"/>
	</ActionMap>

    <!-- ******************************************************************************** -->
    <!--Ladder action map-->
    <ActionMap name="common_ladder">
    	<Import actionmap="common_move_remap" optional=""/>
        
      <!--Keyboard-->
      <CompoundInput name="move" device="kb">
			<Input input="w" axis="0"/>
			<Input input="s" axis="0" invert="1"/>
		</CompoundInput>
		
		<Binding input="kb:move" action="press" signal="move"/>
		<Binding input="kb:move" action="release" signal="move"/>
		
		<!--Gamepad-->
		<Binding input="pad:left_thumb_updown" action="update" signal="move"/>
    </ActionMap>

	<!-- ******************************************************************************** -->
    <!--IED action map-->
    <ActionMap name="common_ied">
		    <!--Mouse-->
				<Binding input="mouse:rb" action="press" signal="switch_ied_mode"/>
				<Binding input="mouse:rb" action="release" signal=""/>
				<Binding input="mouse:lb" action="press" signal="tryuseied"/>
				<Binding input="mouse:lb" action="release" signal=""/>
		        
        <!--Gamepad-->
        <Binding input="pad:left_trigger" action="press" signal="switch_ied_mode"/>
        <Binding input="pad:left_trigger" action="release" signal=""/>
        <Binding input="pad:right_trigger" action="press" signal="tryuseied"/>
        <Binding input="pad:right_trigger" action="release" signal=""/>
    </ActionMap>
    
    <!--Mortar action map-->
    <ActionMap name="common_mortar">
        <!--Mouse-->
				<Binding input="mouse:rb" action="press" signal="plant_weapon"/>
				<Binding input="mouse:rb" action="release" signal="unplant_weapon"/>
				<Binding input="kb:r" action="press" signal="change_ammo"/>
		        
        <!--Gamepad-->
        <Binding input="pad:left_trigger" action="press" signal="plant_weapon"/>
        <Binding input="pad:left_trigger" action="release" signal="unplant_weapon"/>
        <Binding input="pad:x" action="press" signal="change_ammo"/>
    </ActionMap>

	<!--Map&Compass action map-->
	<ActionMap name="common_mapcompass">
		<!--Mouse-->
		<Binding input="mouse:lb" action="release" signal="toggleicons"/>
		<Binding input="mouse:rb" action="press"   signal="draw_monocular"/>
		<Binding input="mouse:rb" action="release" signal="holster_monocular"/>
		<Binding input="kb:r" action="press"   signal="flipside"/>

		<!--Gamepad-->
		<Binding input="pad:x" action="press"   signal="flipside"/>
		<Binding input="pad:right_trigger" action="press" signal="toggleicons"/>
		<Binding input="pad:left_trigger"  action="press"   signal="draw_monocular"/>
		<Binding input="pad:left_trigger"  action="release" signal="holster_monocular"/>
		
	</ActionMap>
		
	<!-- ******************************************************************************** -->
  <!--Driving action map-->
  <ActionMap name="common_paragliderdriving">
    <Import actionmap="common_driving_remap" optional=""/>
		<!--Keyboard-->
		<CompoundInput name="pitch" device="kb">
			<Input input="w" axis="0"/>
			<Input input="s" axis="0" invert="1"/>
		</CompoundInput>
		<CompoundInput name="roll" device="kb">
			<Input input="d" axis="0"/>
			<Input input="a" axis="0" invert="1"/>
		</CompoundInput>

		<Binding input="kb:roll" action="press" signal="rudder_roll"/>
		<Binding input="kb:roll" action="release" signal="rudder_roll"/>
		<Binding input="kb:pitch" action="press" signal="rudder_pitch"/>
		<Binding input="kb:pitch" action="release" signal="rudder_pitch"/>

    <!--Gamepad-->
    <Copy input="pad:sensor_x" toInput="pad:sixaxis_rudder_roll" />
	<CurveFilter input="pad:sixaxis_rudder_roll" sensitivity="5" maxOutput="1" />
	<Binding input="pad:sixaxis_rudder_roll" action="update" signal="sixaxis_rudder_roll" />
	
	<Copy input="pad:sensor_z" toInput="pad:sixaxis_rudder_pitch" />
	<CurveFilter input="pad:sixaxis_rudder_pitch" sensitivity="5" maxOutput="1" />
	<Binding input="pad:sixaxis_rudder_pitch" action="update" signal="sixaxis_rudder_pitch" />
		
    <Binding input="pad:left_thumb_leftright" action="update" signal="rudder_roll"/>
    <Binding input="pad:left_thumb_updown" action="update" signal="rudder_pitch"/>
  </ActionMap>
  
  
	<ActionMap name="common_vehicle_transitions">
        <Binding input="pad:y" action="press" signal="exitvehicle"/>
	</ActionMap>

	<!-- ******************************************************************************** -->
	<ActionMap name="common_using_mounted_weapon">
		<import actionmap="common_heal_remap" optional=""/>
		<Import actionmap="common_changeseat_remap" optional=""/>

		<MouseFilter input="mouse:move" curve="Weapons.AimCurves.Mouse_Curve" sensitivity="0.8" maxOutput="10" />
		<Binding input="mouse:move" action="update" signal="look_mw"/>

		<!--Gamepad-->
		<PadFilter name="right_thumb" device="pad" padAccelerationBoostAmplitude="0">
			<StickyHelper curve="Weapons.AimCurves.Pad_Sticky" radius="1.2" strength="0.01" accelerationCutoffRadius="0.5" distanceForFullSticky="10" distanceForNoSticky="2"/>
			<FollowEnemyHelper curve="Weapons.AimCurves.Pad_Sticky" radius="3.0" strength="0.005"/>
			<IronSightHelper height="0.05" duration="0.2" distanceFactor="0.1" distanceFactorHeight="0.05" startSnapPercentage="0.75">
			    <radius>
			        <Casual value="1"/>
			        <Experienced value="0.5"/>
			        <Hardcore value="0.25"/>
			        <Infamous value="0.125"/>
			    </radius>
			</IronSightHelper>
			<ShootCorrectionHelper radius="1" strength="1" maxDistance="200"/>
			<Binding input="right_thumb_leftright" axis="0" sensitivity="0.5" curve="Weapons.AimCurves.Pad_LookLeftRight_MountedWeapon"/>
			<Binding input="right_thumb_updown" axis="1" sensitivity="0.4" curve="Weapons.AimCurves.Pad_LookUpDown_MountedWeapon"/>
		</PadFilter>
		<Binding input="pad:right_thumb" action="update" signal="look_mw"/>
		
		<Binding input="pad:left_shoulder" action="press" signal="heal"/>
		<Binding input="kb:e" action="press" signal="leave_mounted_weapon"/>
        <Binding input="pad:y" action="press" signal="leave_mounted_weapon"/>
        <Binding input="pad:a" action="press" signal="change_seat"/>
        <Binding input="kb:c" action="press" signal="change_seat"/>
        <Binding input="kb:h" action="press" signal="heal"/>
	</ActionMap>

	<!-- ******************************************************************************** -->
	<!--HealPlayer Mode action map-->
	<ActionMap name="common_healPlayer">
		<!--Keyboard-->
		<Binding input="kb:b" action="press" signal="use"/>

		<!--Gamepad-->
		<Binding input="pad:a" action="press" signal="use"/>
	</ActionMap>
   
	<!-- ******************************************************************************** -->
	<ActionMap name="common_pausemenu" resendOnChange="0">
        <!-- Empty on purpose -->
	</ActionMap>

	<!-- ******************************************************************************** -->
	<ActionMap name="common_emptyactionmap" resendOnChange="0">
	</ActionMap>

	<!-- ******************************************************************************** -->
	<!--Machete Finish action map-->
	<ActionMap name="common_machete_finish">
		<!--Keyboard-->
		<Binding input="mouse:lb" action="press" signal="melee_finish_double"/>
		<Binding input="kb:q" action="press" signal="try_machete_finish_grenade"/>
		<Binding input="kb:e" action="press" signal="melee_finish_push"/>
		<Binding input="kb:space" action="press" signal="melee_finish_slam"/>
		<Binding input="kb:z" action="press" signal="melee_finish_flip"/>
		<Binding input="kb:r" action="press" signal="try_machete_finish_disarm"/>
	
		<!--Gamepad-->
		<Binding input="pad:right_trigger" action="press" signal="melee_finish_double"/>
		<Binding input="pad:right_shoulder" action="press" signal="try_machete_finish_grenade"/>
		<Binding input="pad:y" action="press" signal="melee_finish_push"/>
		<Binding input="pad:a" action="press" signal="melee_finish_slam"/>
		<Binding input="pad:b" action="press" signal="melee_finish_flip"/>
		<Binding input="pad:x" action="press" signal="try_machete_finish_disarm"/>
	</ActionMap>

	<!-- ******************************************************************************** -->
	<!--Briefing action map-->
	
	<ActionMap name="common_briefinginteraction">
		<import actionmap="common_use_remap" optional=""/>
		<import actionmap="common_heal_remap" optional=""/>
		<import actionmap="common_gadget_remap" optional=""/>
		
		<!--Keyboard-->
		<Binding input="kb:e" action="press" signal="use"/>
		<Binding input="kb:5" action="press" signal="toggle_gadget"/>
		<Binding input="kb:h" action="press" signal="heal"/>

		<!--Gamepad-->
		<Binding input="pad:y" action="press" signal="use"/>
		<Binding input="pad:left_shoulder" action="press" signal="heal"/>
		<Binding input="pad:back" action="press" signal="toggle_gadget"/>		
	</ActionMap>
	
	<ActionMap name="common_interaction">
		<import actionmap="common_use_remap" optional=""/>

		<!--Keyboard-->
		<Binding input="kb:e" action="press" signal="use"/>

		<!--Gamepad-->
		<Binding input="pad:y" action="press" signal="use"/>
	</ActionMap>
	
	<ActionMap name="common_briefing">
	</ActionMap>
	
	
	<ActionMap name="common_dominoinputlistener">
		<!--Keyboard-->
		<Binding input="kb:move" action="press" signal="InputDominoMove"/>
		<Binding input="kb:move" action="release" signal="InputDominoMove"/>
	 
		<Binding input="kb:lshift" action="press" signal="InputDominoDoNothing"/>
		<Binding input="kb:lshift" action="release" signal="InputDominoDoNothing"/>
	
		<!--Gamepad-->
		<Binding input="pad:left_thumb_push" action="press" signal="InputDominoDoNothing"/>
		<Binding input="pad:left_thumb_push" action="release" signal="InputDominoDoNothing"/>

		<Binding input="pad:left_thumb" action="update" signal="InputDominoMove"/>
	</ActionMap>
	
	<!-- ******************************************************************************** -->
	<!--Briefing action map-->
	<ActionMap name="common_watch">
		<!--Keyboard-->	
		<CompoundInput name="turn_dial" device="kb">
			<Input input="d" axis="0" source_sensitivity=".25"/>
			<Input input="a" axis="0" source_sensitivity=".25" invert="1"/>
		</CompoundInput>

		<Binding input="kb:turn_dial" action="press" signal="rotate_dial"/>
		<Binding input="kb:turn_dial" action="release" signal="rotate_dial"/>

		<Binding input="kb:e" action="press" signal="usegadget"/>
		<Binding input="kb:escape" action="press" signal="skip_sleep"/>
		<Binding input="mouse:lb" action="press" signal="usegadget"/>
		<Binding input="mouse:rb" action="press" signal="skip_sleep"/>

		<!--Gamepad-->
		<Binding input="pad:left_thumb_leftright" action="update" signal="rotate_dial"/>
		<Binding input="pad:left_trigger" action="press" signal="usegadget"/>
		<Binding input="pad:a" action="press" signal="usegadget"/>
		<Binding input="pad:b" action="press" signal="skip_sleep"/>
		<Binding input="pad:y" action="press" signal="skip_sleep"/>
		<Binding input="pad:back" action="press" signal=""/>
		

	</ActionMap>
	
	<ActionMap name="common_magma_dpad">
		<CompoundInput name="magma_dpad" device="pad">
			<Input input="left" axis="0" invert="1"/>
			<Input input="right" axis="0"/>
			<Input input="up" axis="1" invert="1"/>
			<Input input="down" axis="1"/>
		</CompoundInput>
		<Binding input="pad:magma_dpad" action="update" signal="magma_dpad_update"/>
	</ActionMap>

	<!-- ******************************************************************************** -->
	<!-- Scry debug console Action Maps -->

	<ActionMap name="common_scry_alwaysactive">
	    <!-- The copies are so Scry can still be opened by clicking the thumbsticks, or by
	         lctrl+whatever your console key is, even if the user renames the thumb push
	         inputs or lctrl by changing their key bindings -->
		<Copy input="pad:left_thumb_push" toInput="pad:scry_left_thumb_push"/>
		<Copy input="pad:right_thumb_push" toInput="pad:scry_right_thumb_push"/>
		<Copy input="kb:lctrl" toInput="kb:scry_lctrl"/>

		<!-- keyboard activation -->
		
        <Binding input="kb:\" action="press" signal="scry_openclose"/>
        <Binding input="kb:&lt;" action="press" signal="scry_openclose"/>

		<!-- thumbstick activation -->
		
		<Binding input="pad:scry_left_thumb_push"  action="press"   signal="scry_press_left_thumb"/>
		<Binding input="pad:scry_left_thumb_push"  action="release" signal="scry_release_left_thumb"/>
		<Binding input="pad:scry_right_thumb_push" action="press"   signal="scry_press_right_thumb"/>
		<Binding input="pad:scry_right_thumb_push" action="release" signal="scry_release_right_thumb"/>
	</ActionMap>

	<ActionMap name="common_scry">
        <Binding input="kb:escape" action="press" signal="scry_openclose"/>

        <!-- This seems to be the way to switch to overlay... -->
		<Binding input="kb:|" action="press" signal="scry_press_start"/>
		<Binding input="kb:|" action="release" signal="scry_release_start"/>
		<Binding input="kb:&gt;" action="press" signal="scry_press_start"/>
		<Binding input="kb:&gt;" action="release" signal="scry_release_start"/>

		<!-- keyboard+mouse navigation -->
		
		<CompoundInput name="moveLT" device="kb">
			<Input input="w" axis="1"/>
			<Input input="s" axis="1" invert="1"/>
			<Input input="d" axis="0"/>
			<Input input="a" axis="0" invert="1"/>
		</CompoundInput>

		<CompoundInput name="moveRT" device="kb">
			<Input input="up" axis="1"/>
			<Input input="down" axis="1" invert="1"/>
			<Input input="right" axis="0"/>
			<Input input="left" axis="0" invert="1"/>
		</CompoundInput>

		<Binding input="kb:moveLT" action="press"   signal="scry_move_left_thumb"/>
		<Binding input="kb:moveLT" action="release" signal="scry_move_left_thumb"/>

		<Binding input="kb:moveRT" action="press"   signal="scry_move_right_thumb"/>
		<Binding input="kb:moveRT" action="release" signal="scry_move_right_thumb"/>

		<MouseFilter input="mouse:move" sensitivity="0.8" maxOutput="10" />
		<Binding input="mouse:move" action="update" signal="scry_move_right_thumb"/>

		<!-- thumbstick navigation -->

		<PadFilter name="left_thumb" device="pad" padAccelerationBoostAmplitude="4">
			<Binding input="left_thumb_leftright" axis="0" sensitivity="1" />
			<Binding input="left_thumb_updown" axis="1" sensitivity="1" />
		</PadFilter>
		
		<PadFilter name="right_thumb" device="pad" padAccelerationBoostAmplitude="4">
			<Binding input="right_thumb_leftright" axis="0" sensitivity="1" />
			<Binding input="right_thumb_updown" axis="1" sensitivity="1" />
		</PadFilter>
		
		<Binding input="pad:left_thumb"       action="update"  signal="scry_move_left_thumb"/>
		<Binding input="pad:right_thumb"      action="update"  signal="scry_move_right_thumb"/>

		<!-- dpad -->
		<Binding input="pad:up"               action="press"   signal="scry_press_dpad_up"/>
		<Binding input="pad:up"               action="release" signal="scry_release_dpad_up"/>
		<Binding input="pad:down"             action="press"   signal="scry_press_dpad_down"/>
		<Binding input="pad:down"             action="release" signal="scry_release_dpad_down"/>
		<Binding input="pad:left"             action="press"   signal="scry_press_dpad_left"/>
		<Binding input="pad:left"             action="release" signal="scry_release_dpad_left"/>
		<Binding input="pad:right"            action="press"   signal="scry_press_dpad_right"/>
		<Binding input="pad:right"            action="release" signal="scry_release_dpad_right"/>

		<!-- buttons -->
		<Binding input="pad:a"                action="press"   signal="scry_press_a"/>
		<Binding input="pad:a"                action="release" signal="scry_release_a"/>
		<Binding input="pad:b"                action="press"   signal="scry_press_b"/>
		<Binding input="pad:b"                action="release" signal="scry_release_b"/>
		<Binding input="pad:x"                action="press"   signal="scry_press_x"/>
		<Binding input="pad:x"                action="release" signal="scry_release_x"/>
		<Binding input="pad:y"                action="press"   signal="scry_press_y"/>
		<Binding input="pad:y"                action="release" signal="scry_release_y"/>
		<Binding input="pad:start"            action="press"   signal="scry_press_start"/>
		<Binding input="pad:start"            action="release" signal="scry_release_start"/>
		<Binding input="pad:back"             action="press"   signal="scry_press_back"/>
		<Binding input="pad:back"             action="release" signal="scry_release_back"/>
		<Binding input="pad:left_trigger"     action="press"   signal="scry_press_left_trigger"/>
		<Binding input="pad:left_trigger"     action="release" signal="scry_release_left_trigger"/>
		<Binding input="pad:right_trigger"    action="press"   signal="scry_press_right_trigger"/>
		<Binding input="pad:right_trigger"    action="release" signal="scry_release_right_trigger"/>
		<Binding input="pad:left_shoulder"    action="press"   signal="scry_press_left_shoulder"/>
		<Binding input="pad:left_shoulder"    action="release" signal="scry_release_left_shoulder"/>
		<Binding input="pad:right_shoulder"   action="press"   signal="scry_press_right_shoulder"/>
		<Binding input="pad:right_shoulder"   action="release" signal="scry_release_right_shoulder"/>

	</ActionMap>

	<ActionMap name="common_spectator_camera" resendOnChange="0">
		<!--Camera Look-->
		<!--Mouse-->
		<MouseFilter input="mouse:move" curve="Weapons.AimCurves.Mouse_Curve" sensitivity="0.8" maxOutput="10" />
		<Binding input="mouse:move" action="update" signal="camera_look"/>

		<!--Gamepad-->
		<PadFilter name="right_thumb" device="pad" padAccelerationBoostAmplitude="0">
			<Binding input="right_thumb_leftright" axis="0" sensitivity="0.9" curve="Weapons.AimCurves.Pad_LookLeftRight"/>
			<Binding input="right_thumb_updown" axis="1" sensitivity="0.4" curve="Weapons.AimCurves.Pad_LookUpDown"/>
		</PadFilter>
		
		<Binding input="pad:right_thumb" action="update" signal="camera_look"/>

		<!--Camera Move-->
		<!--Keyboard-->
		<CompoundInput name="move" device="kb">
			<Input input="w" axis="0"/>
			<Input input="s" axis="0" invert="1"/>
			<Input input="d" axis="1"/>
			<Input input="a" axis="1" invert="1"/>
		</CompoundInput>
		<Binding input="kb:move" action="press" signal="camera_move"/>
		<Binding input="kb:move" action="release" signal="camera_move"/>

		<CompoundInput name="camera_z" device="mouse">
			<Input input="lb" axis="0"/>
			<Input input="rb" axis="0" invert="1"/>
		</CompoundInput>
		<Binding input="mouse:camera_z" action="press" signal="camera_move_z"/>
		<Binding input="mouse:camera_z" action="release" signal="camera_move_z"/>
		<Binding input="kb:lshift" action="press" signal="start_fast_mode"/>
		<Binding input="kb:lshift" action="release" signal="stop_fast_mode"/>
	
		<!--Gamepad-->
		<CompoundInput name="left_thumb" device="pad">
			<Binding input="left_thumb_leftright" axis="1"/>
			<Binding input="left_thumb_updown" axis="0"/>
		</CompoundInput>
		<Binding input="pad:left_thumb" action="update" signal="camera_move"/>
		
		<CompoundInput name="camera_z" device="pad">
			<Input input="right_shoulder" axis="0"/>
			<Input input="left_shoulder" axis="0" invert="1"/>
		</CompoundInput>
		<Binding input="pad:camera_z" action="update" signal="camera_move_z"/>
	
        <!-- Acceleration -->
		<Binding input="pad:right_trigger" action="press" signal="start_fast_mode"/>
		<Binding input="pad:right_trigger" action="release" signal="stop_fast_mode"/>

		<!-- Lobby -->
		<Binding input="kb:space" action="release" signal="end_spectating"/>
		<Binding input="pad:b" action="release" signal="end_spectating"/>
	</ActionMap>
</Root>
